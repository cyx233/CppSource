# ⑨的完美文本编辑器 解题报告

- ## 数据结构

  本题对复杂度的要求是O(1), 不能使用普通的链表结构, 因为普通的链表结构倒序操作需要 $O(n)$

  分析题目可知, 光标连续移动, 不会跳跃, 不需要循秩访问. 可以维护一个邻接链表
  
  每个点拥有两个邻点, 只需要记录指针的邻点与其顺序, 即可完成$O(1)$的倒序操作.

- ## 算法

  向左即为向前, 向右即为向后. 具体操作为

  - #### 向后移动操作

    - 若允许, 指针向后移动一步,  记录先前的节点为前节点, 另一个邻点为后节点

  - #### 向前移动操作

    - 若允许, 指针向前移动一步,  记录先前的节点为后节点, 另一个邻点为前节点

  - #### 左指针插入

    - 在前节点与当前节点之间插入新节点, 修改相邻关系. 记录新节点为前节点, 另一个邻点为后节点.

  - #### 右指针插入

    - 在当前节点A与后节点B之间插入新节点C, 修改相邻关系.  A即为前节点, B记为当前节点, C记为后节点.

  - #### 左指针删除

    - 若当前节点不是尾节点'\0', 设前节点A, 当前节点B, 后节点C. 将A, C相连. 将A记为当前节点, C记为后节点, A的另一个邻点记为前节点.

  - #### 右指针删除

    - 若后节点不是尾结点'\0', 设当前节点A, 后节点B, 再后节点C. 将A, C相连, 将A记为当前节点, C记为后节点, A的另一个邻点记为前节点

  - #### 倒转

    - 若允许, 设左指针前节点为A, 当前节点为B; 右指针后节点为D, 当前节点为C. 将A与C, B与D分别相连.  左指针置于C, A记为前节点. 右指针置于B, D记为后节点

- ## 遇到的困难

  - 虽然实现了$O(1)$的时间复杂度, 但是还是超时. 
  
  - #### 解决方法: 
  
    进行常数优化, 重要常数优化:
  
    - 输出时先存储于一个字符数组,  最后只调用一次$printf()$ 函数输出答案.
    - 一次性初始化极限数据所需的节点个数.