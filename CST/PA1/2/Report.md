# Graphics解题报告

- ## 数据结构

  本题并未采用特殊的数据结构

- ## 算法

  本题目标是判断某一点落于哪个区间,  主要算法即为:

  1. 对横纵坐标进行排序
  2. 判断平面上一点与已知向量的位置关系的**to_left**算法
3. 寻找目标区间的二分算法

#### to_left算法

​	toLeft 测试基于向量的差乘。对于三个首尾相接的向量，能够根据向量的叉乘计算围成的三角形的有向面积。



  设三个顶点坐标表示按向量方向次序分别为$(x_1,y_1),(x_2,y_2),(x_3,y_3)$ . 则三角形有向面积的计算为: 
  $Directed Area = \left[\begin{matrix}
  x_1,y_1,1\\
  x_2,y_2,1\\
  x_3,y_3,1
  \end{matrix}
  \right]\\$
  向量顺时针，则面积为负；向量逆时针，则面积为正

  

#### 二分查找

  ​	$(x_1,y_1)$与$(x_2,y_2)$即是题目中的已知直线，$(x_3,y_3)$为题目中的询问。
  ​	此题中，本代码以y轴的点为$(x_1,y_1)$，x轴的点为$(x_2,y_2)$
  ​	

  ​	则当有向面积非负时，直线在询问点$(x_3,y_3)$右侧，即不相交。反之相交，可以以此进行二分查找. 如果相交, 则进入右边继续查找, 如果不相交, 进入左边查找

  

  ​	每次判断问题规模减小一半

  

- ## 遇到困难

  1. 考虑到坐标值较大(2^31^)，面积绝对值最大能够达到$\frac{1}{2}*2^{31}*2^{31}=2^{63}$, 即有向面积为$-2^63\sim2^63 $, 需要使用long long int
  2. 读入数据较多, 只能使用scanf, 如果使用 cin 会导致超时

  

- ## 复杂度估算

  - #### 时间复杂度

    - 排序算法为$O(nlogn)$
    - 二分查找复杂度为$O(mlogn)$

    所以总时间复杂度为$O((n+m)logn)$

  - #### 空间复杂度

    - 保存坐标使用2*n的空间
    - 二分查找为就地算法$O(1)$

    所以总空间复杂度为$O(n)$

  